## Amiga Rangermem Expansion

---

## Overview

The **Amiga Rangermem** is a memory expansion designed to sit **in-line** between the **Motorola 68000 CPU** and the **mainboard** of an **Amiga 500 (A500)** or **Amiga 500 Plus (A500+)**. This design provides an easy way to add fast, CPU-accessible "Ranger" memory (typically located in the $0xC00000$ to $0xD7FFFF$ range).

---

## Compatibility and Status

### Compatibility
While primarily designed for the A500/A500+, the principle of operation suggests this expansion **should also function with an Amiga 2000 (A2000)**. However, the author has not verified this, particularly concerning the necessary **physical clearance** inside the A2000's chassis.

### Status
This project is **currently under construction** and has **not been tested** in a physical unit. The author is uncertain if a functional board will ultimately be built.

---

## Theory of Operation

The expansion operates by intercepting and conditioning the signals between the CPU and the mainboard, primarily focusing on the **Address Strobe ($\overline{AS}$)** line.

### $\overline{AS}$ Interception

1.  The $\overline{AS}$ line, which signals that the address on the **address bus** is valid, is intercepted by the Rangermem board.
2.  **Mainboard Access:** If the address is **outside** the designated Ranger memory range, the $\overline{AS}$ signal is simply **passed through** to the mainboard, allowing normal operation.
3.  **Rangermem Access:** If the address is **within** the Ranger memory range, the $\overline{AS}$ signal is **blocked** from reaching the mainboard. Instead, the Rangermem generates both a **Data Acknowledge ($\overline{DTACK}$)** signal and a **ROM Select** signal to enable the on-board memory.

### $\overline{DTACK}$ Generation

* The $\overline{DTACK}$ signal tells the **68000 processor** that the data on the bus is ready.
* The Amiga mainboard normally relies on the **Gary** chip to generate $\overline{DTACK}$ when a mainboard resource is accessed.
* Since the Rangermem blocks the $\overline{AS}$ signal from reaching Gary for Ranger memory access, the expansion board **must generate its own $\overline{DTACK}$** pulse to complete the CPU's memory cycle.

### ROM/Memory Banks

* The expansion memory is divided into **three blocks of 512 KB**.
* These blocks can be individually enabled or disabled using **DIP switches** via the **ROM Select** lines generated by the expansion logic.

### Memory Detection

* **Kickstart's Search:** The **Kickstart ROM** searches for memory in the Ranger range **sequentially from the lowest address to the highest**.
* **Contiguity is Key:** If a lower-addressed block (e.g., Block 1) is **disabled**, the Kickstart will immediately **stop searching** for any further memory in that range. This means Blocks 2 and 3 will also not be automatically detected, even if they are enabled.
* To utilize blocks that are not automatically found during the initial system boot (either because of a disabled lower block or because they fall outside of the Kickstart's autoconfig range), a utility like **AddMem** must be used to manually add the memory to the system's map after booting.
